<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="js/three.min.js" ></script>
		<script type="text/javascript" src="js/OBJLoader.js" ></script>
		<script type="text/javascript" src="js/MTLLoader.js" ></script>
		<script type="text/javascript" src="js/tween.js" ></script>
		<script type="text/javascript" src="js/rotate.js" ></script>
	</head>
	<style>
	    body,html{width: 100%;height: 100%;margin: 0;padding: 0;overflow: hidden;}
		#world{
			width: 100%;
			height: 100%;
			background-color: lightgoldenrodyellow;
		}
		#title{
			position: absolute;
			top: 10px;
			left: 10px;
			font-size: 30px;
			font-family:  "microsoft yahei";
			font-weight: bold;
			color: black;
		}
		#github{
			display: block;
			position: absolute;
			bottom: 50px;
			left: 20px;
			font-size: 22px;
			font-family: "微软雅黑";
			color: black;
			text-decoration: none;
			padding: 5px;
			border: 2px solid black;
			border-radius: 5px;
		}
		#loading{
			width: 100%;
			height: 100%;
			text-align: center;
			position: absolute;
			top: 0;
			font-size: 30px;
			font-family: "comic sans ms";
			z-index: 5;
			background-color: #FAFAD2;
		}
		#loading:after{
			display:inline-block;
            width:0;
            height:100%;
            vertical-align:middle;
            content:"";
		}
	</style>
	<body>
		<div id="world">
			<!--画布-->
		</div>
		<div id="title">
			Lab-4-landscape
		</div>
		<a id="github" href="https://github.com/johanzhu" target="_blank">
		    Follow me on github
		</a>
		<div id="loading">
			Loading..
		</div>
		<script>
			var scene,
			camera,
			renderer;
			var loading = false;
			var manager = null;
			scene = new THREE.Scene();
		    camera = new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,0.1,2000);
			camera.position.set(-200,100,300);
			camera.lookAt(new THREE.Vector3(120,-50,0));
		    renderer = new THREE.WebGLRenderer({alpha:true,antialias:true});
		    renderer.setSize(window.innerWidth,window.innerHeight);
		    renderer.shadowMapEnabled = true;
		    var container =  document.getElementById('world');
		    container.appendChild(renderer.domElement);
		    window.addEventListener('resize',onWindowResize,false);
		    function onWindowResize(){
	           WIDTH=window.innerWidth;
	           HEIGHT=window.innerHeight;
               renderer.setSize(WIDTH, HEIGHT);
               camera.aspect = WIDTH / HEIGHT;
               camera.updateProjectionMatrix();
            }
		    
		    
		    
		    var ambient = new THREE.AmbientLight( 0x444444 );
			scene.add( ambient );
			var directionalLight = new THREE.DirectionalLight( 0xffeedd );
			directionalLight.position.set( 0, 1, 1 );
			scene.add( directionalLight );
			
			manager = new THREE.LoadingManager();
		    manager.onLoad = function(){
		    	console.log('resourse complete!');
		    	loading = true;
		    };
		    var load = document.getElementById('loading');
            
			
	    var onProgress = function ( xhr ) {
		if ( xhr.lengthComputable ) {
			var percentComplete = xhr.loaded / xhr.total * 100;
					}
		};
        var onError = function ( xhr ) { };
        
        var mtlLoader1 = new THREE.MTLLoader(manager);
            mtlLoader1.setPath( 'img/' );
            mtlLoader1.load( '1.mtl', function( materials ) {materials.preload();
        var objLoader1 = new THREE.OBJLoader(manager);objLoader1.setMaterials( materials );objLoader1.setPath( 'img/' );
            objLoader1.load( '土地1.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		animate();
		}, onProgress, onError );});
		
		var mtlLoader2 = new THREE.MTLLoader(manager);
            mtlLoader2.setPath( 'img/' );
            mtlLoader2.load( '2.mtl', function( materials ) {materials.preload();
        var objLoader2 = new THREE.OBJLoader(manager);
            objLoader2.setMaterials( materials );
            objLoader2.setPath( 'img/' );
            objLoader2.load( '土地2.obj', function ( object ) {
		    object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader3 = new THREE.MTLLoader(manager);
            mtlLoader3.setPath( 'img/' );
            mtlLoader3.load( '3.mtl', function( materials ) {materials.preload();
        var objLoader3 = new THREE.OBJLoader(manager);
            objLoader3.setMaterials( materials );
            objLoader3.setPath( 'img/' );
            objLoader3.load( '土地3.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader4 = new THREE.MTLLoader(manager);
            mtlLoader4.setPath( 'img/' );
            mtlLoader4.load( '4.mtl', function( materials ) {materials.preload();
        var objLoader4 = new THREE.OBJLoader(manager);
            objLoader4.setMaterials( materials );
            objLoader4.setPath( 'img/' );
            objLoader4.load( '土地4.obj', function ( object ) {
             object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader5 = new THREE.MTLLoader(manager);
            mtlLoader5.setPath( 'img/' );
            mtlLoader5.load( '5.mtl', function( materials ) {materials.preload();
        var objLoader5 = new THREE.OBJLoader(manager);
            objLoader5.setMaterials( materials );
            objLoader5.setPath( 'img/' );
            objLoader5.load( '土地5.obj', function ( object ) {
		object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader6 = new THREE.MTLLoader(manager);
            mtlLoader6.setPath( 'img/' );
            mtlLoader6.load( '6.mtl', function( materials ) {materials.preload();
        var objLoader6 = new THREE.OBJLoader(manager);
            objLoader6.setMaterials( materials );
            objLoader6.setPath( 'img/' );
            objLoader6.load( '土6.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader7 = new THREE.MTLLoader(manager);
            mtlLoader7.setPath( 'img/' );
            mtlLoader7.load( '7.mtl', function( materials ) {materials.preload();
        var objLoader7 = new THREE.OBJLoader(manager);
            objLoader7.setMaterials( materials );
            objLoader7.setPath( 'img/' );
            objLoader7.load( '土7.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader8 = new THREE.MTLLoader(manager);
            mtlLoader8.setPath( 'img/' );
            mtlLoader8.load( '8.mtl', function( materials ) {materials.preload();
        var objLoader8 = new THREE.OBJLoader(manager);
            objLoader8.setMaterials( materials );
            objLoader8.setPath( 'img/' );
            objLoader8.load( '土8.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader9 = new THREE.MTLLoader(manager);
            mtlLoader9.setPath( 'img/' );
            mtlLoader9.load( '9.mtl', function( materials ) {materials.preload();
        var objLoader9 = new THREE.OBJLoader(manager);
            objLoader9.setMaterials( materials );
            objLoader9.setPath( 'img/' );
            objLoader9.load( '土地9.obj', function ( object ) {
             object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader10 = new THREE.MTLLoader(manager);
            mtlLoader10.setPath( 'img/' );
            mtlLoader10.load( '10.mtl', function( materials ) {materials.preload();
        var objLoader10 = new THREE.OBJLoader(manager);
            objLoader10.setMaterials( materials );
            objLoader10.setPath( 'img/' );
            objLoader10.load( '土地10.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader11 = new THREE.MTLLoader(manager);
            mtlLoader11.setPath( 'img/' );
            mtlLoader11.load( '11.mtl', function( materials ) {materials.preload();
        var objLoader11 = new THREE.OBJLoader(manager);
            objLoader11.setMaterials( materials );
            objLoader11.setPath( 'img/' );
            objLoader11.load( '土11.obj', function ( object ) {
             object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader12 = new THREE.MTLLoader(manager);
            mtlLoader12.setPath( 'img/' );
            mtlLoader12.load( '12.mtl', function( materials ) {materials.preload();
        var objLoader12 = new THREE.OBJLoader(manager);
            objLoader12.setMaterials( materials );
            objLoader12.setPath( 'img/' );
            objLoader12.load( 'water12.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader13 = new THREE.MTLLoader(manager);
            mtlLoader13.setPath( 'img/' );
            mtlLoader13.load( '13.mtl', function( materials ) {materials.preload();
        var objLoader13 = new THREE.OBJLoader(manager);
            objLoader13.setMaterials( materials );
            objLoader13.setPath( 'img/' );
            objLoader13.load( '土地13.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader14 = new THREE.MTLLoader(manager);
            mtlLoader14.setPath( 'img/' );
            mtlLoader14.load( '14.mtl', function( materials ) {materials.preload();
        var objLoader14 = new THREE.OBJLoader(manager);
            objLoader14.setMaterials( materials );
            objLoader14.setPath( 'img/' );
            objLoader14.load( '土地14.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader15 = new THREE.MTLLoader(manager);
            mtlLoader15.setPath( 'img/' );
            mtlLoader15.load( '15.mtl', function( materials ) {materials.preload();
        var objLoader15 = new THREE.OBJLoader(manager);
            objLoader15.setMaterials( materials );
            objLoader15.setPath( 'img/' );
            objLoader15.load( 'water15.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader16 = new THREE.MTLLoader(manager);
            mtlLoader16.setPath( 'img/' );
            mtlLoader16.load( '16.mtl', function( materials ) {materials.preload();
        var objLoader16 = new THREE.OBJLoader(manager);
            objLoader16.setMaterials( materials );
            objLoader16.setPath( 'img/' );
            objLoader16.load( 'water16.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader17 = new THREE.MTLLoader(manager);
            mtlLoader17.setPath( 'img/' );
            mtlLoader17.load( '17.mtl', function( materials ) {materials.preload();
        var objLoader17 = new THREE.OBJLoader(manager);
            objLoader17.setMaterials( materials );
            objLoader17.setPath( 'img/' );
            objLoader17.load( '土地17.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader18 = new THREE.MTLLoader(manager);
            mtlLoader18.setPath( 'img/' );
            mtlLoader18.load( '18.mtl', function( materials ) {materials.preload();
        var objLoader18 = new THREE.OBJLoader(manager);
            objLoader18.setMaterials( materials );
            objLoader18.setPath( 'img/' );
            objLoader18.load( '土地18.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader19 = new THREE.MTLLoader(manager);
            mtlLoader19.setPath( 'img/' );
            mtlLoader19.load( '19.mtl', function( materials ) {materials.preload();
        var objLoader19 = new THREE.OBJLoader(manager);
            objLoader19.setMaterials( materials );
            objLoader19.setPath( 'img/' );
            objLoader19.load( '土19.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader20 = new THREE.MTLLoader(manager);
            mtlLoader20.setPath( 'img/' );
            mtlLoader20.load( '20.mtl', function( materials ) {materials.preload();
        var objLoader20 = new THREE.OBJLoader(manager);
            objLoader20.setMaterials( materials );
            objLoader20.setPath( 'img/' );
            objLoader20.load( 'water20.obj', function ( object ) {
           object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
	    
	    var mtlLoader21 = new THREE.MTLLoader(manager);
            mtlLoader21.setPath( 'img/' );
            mtlLoader21.load( '21.mtl', function( materials ) {materials.preload();
        var objLoader21 = new THREE.OBJLoader(manager);
            objLoader21.setMaterials( materials );
            objLoader21.setPath( 'img/' );
            objLoader21.load( '土地21.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader22 = new THREE.MTLLoader(manager);
            mtlLoader22.setPath( 'img/' );
            mtlLoader22.load( '22.mtl', function( materials ) {materials.preload();
        var objLoader22 = new THREE.OBJLoader(manager);
            objLoader22.setMaterials( materials );
            objLoader22.setPath( 'img/' );
            objLoader22.load( '土地22.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader23 = new THREE.MTLLoader(manager);
            mtlLoader23.setPath( 'img/' );
            mtlLoader23.load( '23.mtl', function( materials ) {materials.preload();
        var objLoader23 = new THREE.OBJLoader(manager);
            objLoader23.setMaterials( materials );
            objLoader23.setPath( 'img/' );
            objLoader23.load( 'water23.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader24 = new THREE.MTLLoader(manager);
            mtlLoader24.setPath( 'img/' );
            mtlLoader24.load( '24.mtl', function( materials ) {materials.preload();
        var objLoader24 = new THREE.OBJLoader(manager);
            objLoader24.setMaterials( materials );
            objLoader24.setPath( 'img/' );
            objLoader24.load( '土地24.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader25 = new THREE.MTLLoader(manager);
            mtlLoader25.setPath( 'img/' );
            mtlLoader25.load( '25.mtl', function( materials ) {materials.preload();
        var objLoader25 = new THREE.OBJLoader(manager);
            objLoader25.setMaterials( materials );
            objLoader25.setPath( 'img/' );
            objLoader25.load( '土地25.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader26 = new THREE.MTLLoader(manager);
            mtlLoader26.setPath( 'img/' );
            mtlLoader26.load( '26.mtl', function( materials ) {materials.preload();
        var objLoader26 = new THREE.OBJLoader(manager);
            objLoader26.setMaterials( materials );
            objLoader26.setPath( 'img/' );
            objLoader26.load( '土地26.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader27 = new THREE.MTLLoader(manager);
            mtlLoader27.setPath( 'img/' );
            mtlLoader27.load( '27.mtl', function( materials ) {materials.preload();
        var objLoader27 = new THREE.OBJLoader(manager);
            objLoader27.setMaterials( materials );
            objLoader27.setPath( 'img/' );
            objLoader27.load( '土地27.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
		
		var mtlLoader28 = new THREE.MTLLoader(manager);
            mtlLoader28.setPath( 'img/' );
            mtlLoader28.load( '28.mtl', function( materials ) {materials.preload();
        var objLoader28 = new THREE.OBJLoader(manager);
            objLoader28.setMaterials( materials );
            objLoader28.setPath( 'img/' );
            objLoader28.load( '土地28.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});
			
		var mtlLoader29 = new THREE.MTLLoader(manager);
            mtlLoader29.setPath( 'img/' );
            mtlLoader29.load( '29.mtl', function( materials ) {materials.preload();
        var objLoader29 = new THREE.OBJLoader(manager);
            objLoader29.setMaterials( materials );
            objLoader29.setPath( 'img/' );
            objLoader29.load( '土地29.obj', function ( object ) {
            object.scale.set(0,0,0);
		    scene.add( object );
		    new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut).start();
		    animate();
		}, onProgress, onError );});	
	    
	    var mtlLoader30 = new THREE.MTLLoader(manager);
            mtlLoader30.setPath( 'img/' );
            mtlLoader30.load( '30.mtl', function( materials ) {materials.preload();
        var objLoader30 = new THREE.OBJLoader(manager);
            objLoader30.setMaterials( materials );
            objLoader30.setPath( 'img/' );
            objLoader30.load( '地鼠30.obj', function ( object ) {
            object.scale.set(0,0,0);
            object.position.y -= 12;
            scene.add( object );
            var tween1 = new TWEEN.Tween(object.scale).to({x:1,y:1,z:1},2000).easing(TWEEN.Easing.Elastic.InOut);
            var tween2 = new TWEEN.Tween(camera.position).to({x:10,y:20,z:80});
            var tween3 = new TWEEN.Tween(object.position).to({y:-2},1000).delay(300);
            tween1.chain(tween2);
            tween2.chain(tween3);
            tween1.start();
		    animate();
		    
		}, onProgress, onError );});
	    
	    
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		function animate(){
			if(loading == true){
				load.style.display = 'none';
			}
		    requestAnimationFrame(animate);
		    render();
		}
		function render(){
		    TWEEN.update();
	        renderer.render(scene,camera);
        }
		</script>
	</body>
</html>